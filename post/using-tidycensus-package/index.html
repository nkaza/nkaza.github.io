<!DOCTYPE html><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Wowchemy 5.4.0 for Hugo" />
  

  
  









  




  
  

  
  
  

  
    <meta name="google-site-verification" content="qq9qzDEmo2CWQJ-GjKaptUQs7Odqb9aHsm4k_yFaVAQ" />
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Nikhil Kaza" />

  
  
  
    
  
  <meta name="description" content="Using tidycensus to download US Census data from the API" />

  
  <link rel="alternate" hreflang="en-us" href="https://nkaza.github.io/post/using-tidycensus-package/" />

  
  
  
    <meta name="theme-color" content="#1565c0" />
  

  
  
    
    <script src="/js/mathjax-config.js"></script>
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.f1ecf783c14edc00c9320c205831ad8e.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha512-W0xM4mr6dEP9nREo7Z9z+9X70wytKvMGeDsj7ps2+xg5QPrEBXC8tAW1IFnzjR6eoJ90JmCnFzerQJTLzIEHjA==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.css" integrity="" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.0d287f18ae9831e05717a040ad587d40.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-121426944-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'UA-121426944-1', { 'anonymize_ip': true });
  gtag('set', {'cookie_flags': 'SameSite=None;Secure'});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  

  

  




  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hu1ca6a6912ef6c300619228a995d3f134_46128_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hu1ca6a6912ef6c300619228a995d3f134_46128_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="https://nkaza.github.io/post/using-tidycensus-package/" />

  
  
  
  
  
  
  
  
    
  
  

  
  
    
    
  
  <meta property="twitter:card" content="summary_large_image" />
  
  <meta property="og:site_name" content="Nikhil Kaza" />
  <meta property="og:url" content="https://nkaza.github.io/post/using-tidycensus-package/" />
  <meta property="og:title" content="Using TidyCensus package to explore Census Data | Nikhil Kaza" />
  <meta property="og:description" content="Using tidycensus to download US Census data from the API" /><meta property="og:image" content="https://nkaza.github.io/post/using-tidycensus-package/featured.png" />
    <meta property="twitter:image" content="https://nkaza.github.io/post/using-tidycensus-package/featured.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2025-10-16T00:00:00&#43;00:00"
      />
    
    <meta property="article:modified_time" content="2025-10-16T00:00:00&#43;00:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://nkaza.github.io/post/using-tidycensus-package/"
  },
  "headline": "Using TidyCensus package to explore Census Data",
  
  "image": [
    "https://nkaza.github.io/post/using-tidycensus-package/featured.png"
  ],
  
  "datePublished": "2025-10-16T00:00:00Z",
  "dateModified": "2025-10-16T00:00:00Z",
  
  "author": {
    "@type": "Person",
    "name": "Nikhil Kaza"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Nikhil Kaza",
    "logo": {
      "@type": "ImageObject",
      "url": "https://nkaza.github.io/media/icon_hu1ca6a6912ef6c300619228a995d3f134_46128_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "Using tidycensus to download US Census data from the API"
}
</script>

  

  

  
  
  
  
  
    <script src="https://cdn.jsdelivr.net/gh/osano/cookieconsent@3.1.1/build/cookieconsent.min.js" integrity="sha512-yXXqOFjdjHNH1GND+1EO0jbvvebABpzGKD66djnUfiKlYME5HGMUJHoCaeE4D5PTG2YsSJf6dwqyUUvQvS0vaA==" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/osano/cookieconsent@3.1.1/build/cookieconsent.min.css" integrity="sha512-LQ97camar/lOliT/MqjcQs5kWgy6Qz/cCRzzRzUCfv0fotsCTC9ZHXaPQmJV8Xu/PVALfJZ7BDezl5lW3/qBxg==" crossorigin="anonymous">
  
  <script>
  window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#1565c0",
          "text": "rgb(255, 255, 255)"
        },
        "button": {
          "background": "rgb(255, 255, 255)",
          "text": "#1565c0"
        }
      },
      "theme": "classic",
      "content": {
        "message": "Third party cookies are used on this website. You can disable them on your browser's privacy settings without losing any functionality.",
        "dismiss": "Got it!",
        "link": "Learn more",
        "href": "/privacy/"
      }
    })});
  </script>


  





  <title>Using TidyCensus package to explore Census Data | Nikhil Kaza</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="472d3fd5f980f6f910088fa6b92d543b" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.8f76bdc9e086322ed5147724ebba3d06.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<header class="header--fixed">
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">Nikhil Kaza</a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">Nikhil Kaza</a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#about"><span>Home</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#posts"><span>Posts</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#featured"><span>Publications</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#projects"><span>Projects</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#teaching"><span>Teaching</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="/files/pdfs/cv.pdf"><span>CV</span></a>
          </li>

          
          

          

          
          
          
            
          

          

          
          
          
          

          
            
              
              
            
            
              
              
              
                
              
              
            
          

          <li class="nav-item">
            <a class="nav-link " href="/#contact"><span>Contact</span></a>
          </li>

          
          

          

          
          
          
            
              
            
          

          

          
          
          
          

          
            
              
              
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="https://cse.google.com/cse?cx=003304552390625136873:si-f1ne2ahe" target="_blank" rel="noopener"><span>Search</span></a>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
        

        
        

        
        
        <li class="nav-item dropdown theme-dropdown">
          <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </a>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item js-set-theme-light">
              <span>Light</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-dark">
              <span>Dark</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-auto">
              <span>Automatic</span>
            </a>
          </div>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    <article class="article">
  





















  
  


<div class="article-container pt-3">
  <h1>Using TidyCensus package to explore Census Data</h1>

  

  


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Oct 16, 2025
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    13 min read
  </span>
  

  
  
  
  
  
  

  
  

</div>

  





</div>


<div class="article-header article-container featured-image-wrapper mt-4 mb-4" style="max-width: 553px; max-height: 542px;">
  <div style="position: relative">
    <img src="/post/using-tidycensus-package/featured_huf40e3de13ce45d49a52cb47e6ecfd200_84703_720x2500_fit_q75_h2_lanczos_3.webp" width="553" height="542" alt="" class="featured-image">
    
  </div>
</div>


  <div class="article-container">
    <div class="row">
      <div class="col-12 col-lg-9 article-style">
        <script src="https://nkaza.github.io/post/using-tidycensus-package/index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="https://nkaza.github.io/post/using-tidycensus-package/index_files/pymjs/pym.v1.js"></script>
<script src="https://nkaza.github.io/post/using-tidycensus-package/index_files/widgetframe-binding/widgetframe.js"></script>
<script src="https://nkaza.github.io/post/using-tidycensus-package/index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="https://nkaza.github.io/post/using-tidycensus-package/index_files/pymjs/pym.v1.js"></script>
<script src="https://nkaza.github.io/post/using-tidycensus-package/index_files/widgetframe-binding/widgetframe.js"></script>
<script src="https://nkaza.github.io/post/using-tidycensus-package/index_files/htmlwidgets/htmlwidgets.js"></script>
<script src="https://nkaza.github.io/post/using-tidycensus-package/index_files/pymjs/pym.v1.js"></script>
<script src="https://nkaza.github.io/post/using-tidycensus-package/index_files/widgetframe-binding/widgetframe.js"></script>
<h2 id="getting-started">Getting Started</h2>
<p>Application Programming Interface (API) is a software intermediary that allows two applications to talk to each other. For example, when you use an app on your phone, it connects to the internet, queries a server in a specific way. The server responds to the query, by retrieving the data, aggregating/interpreting/managing it and sending it back to the phone. The application then interprets that data and presents you with the information you wanted in a readable way. While API are not solely based on internet based queries, these are becoming increasingly important. In this tutorial, we are going to use API to query and process US Census data via http protocol on the fly, instead of downloading them as csv files.</p>
<p>To get started you need a US census API key. <a href="http://api.census.gov/data/key_signup.html" target="_blank" rel="noopener">Signup for one</a> and store it in a secure place. Whenever “YOUR_API_KEY” appears in the code below, you should substitute this key.</p>
<h2 id="querying-census-servers">Querying Census Servers</h2>
<p>Different APIs have different requirements, so you will have to use the documentation specific to the endpoint. To illustrate, let’s use the <a href="https://www.census.gov/data/developers/data-sets/acs-5year.html" target="_blank" rel="noopener">American Community Survey API</a>. For example, paste the following into your web browser after suitably editing for the “YOUR_API_KEY”</p>
<p><code>https://api.census.gov/data/2017/acs/acs5?key=YOUR_API_KEY&amp;get=B01003_001E&amp;for=zip%20code%20tabulation%20area:27514,27510&amp;in=state:37</code></p>
<p>The output should look like the following in the JSON format (Different browsers may format it slightly differently)</p>
<p>















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="./img/jsonout.png" alt="" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<p>The results tell you that there are 15,397 people in ZCTA 27510 and 31,659 people in ZCTA 27514. Also, this would be a good time to refresh your understanding of the <a href="https://www.census.gov/programs-surveys/geography/guidance/geo-areas/zctas.html" target="_blank" rel="noopener">differences between Zipcodes and ZCTA</a></p>
<p>If you get this result, from your R script (instead of the browser), it is <a href="https://hendrikvanb.gitlab.io/2018/07/nested_data-json_to_tibble/" target="_blank" rel="noopener">relatively straightforward to convert them</a> into data structures you are familiar with, such as tables, tibbles and data.frames. See this post.</p>
<p>It is useful to understand the structure of the query</p>
<ul>
<li>
<p><code>https://api.census.gov/data/2017/acs/acs5?</code> is the base url. It tells the census servers that it is looking for 5 year ACS data that ends in 2017 i.e ACS 2012-2017.</p>
</li>
<li>
<p><code>key=[YOUR_API_KEY]</code> is the key to identify the client (i.e your browser/script) who is making the request.</p>
</li>
<li>
<p><code>get=B01003_001E</code> is the variable name (Total population). For a full list, see <a href="https://api.census.gov/data/2017/acs/acs5/variables.html" target="_blank" rel="noopener">here</a></p>
</li>
<li>
<p><code>for=zip%20code%20tabulation%20area:27514,27510</code> for the census geography ZCTA for Chapel Hill(27514) and Carrboro (27510). The <code>%20</code> is a hexademical representation of “unsafe” space character. There are <a href="https://www.w3schools.com/tags/ref_urlencode.ASP" target="_blank" rel="noopener">many such special characters</a> that need to be properly encoded, if they need to be passed to the server.</p>
</li>
<li>
<p><code>in=state:37</code> refers to the FIPS code for North Carolina.</p>
</li>
<li>
<p>Note that the all the arguments are concatenated using <code>&amp;</code>.</p>
</li>
</ul>
<p>This structure is unique to <a href="https://www.census.gov/data/developers/data-sets.html" target="_blank" rel="noopener">Census APIs and endpoints</a>. For other APIs you will have to refer to their documentation. And it is also likely that these structures will change over time, which may explain why your code may stop working after a while.</p>
<hr>
<p><strong>Exercise</strong></p>
<p>Practise the following in the web browser by constructing the right URL.</p>
<ul>
<li>Use the <a href="https://www.census.gov/data/developers/data-sets.html" target="_blank" rel="noopener">endpoint</a> for the decennial census and get the population for all the zipcodes in Durham, NC.</li>
<li>Use the ACS 2016 endpoint and get the population for all the census tracts in Orange County, NC.</li>
<li>Use the ACS 2013-2018 and get the households under poverty in each census tracts in Orange County, NC</li>
</ul>
<hr>
<h2 id="tidycensus">TidyCensus</h2>
<p>While the above is a generic way of constructing the query and getting the results using APIs, tidycensus is a package that wraps this all in different convenience functions such as <code>get_decennial</code> and <code>get_acs</code>. Note that, this package is tailored only towards US Census and not for any other Census agencies or for that matter other US government data.</p>
<div class="alert alert-note">
  <div>
    You should check out Kyle Walker’s excellent book <a href="https://walker-data.com/census-r/">Analyzing US Census Data: Methods, Maps, and Models in R</a>
  </div>
</div>
<p>In the rest of the tutorial, I am going to demonstrate how to download, construct and visualise unemployment rates and poverty rates at a Census tract level. We are going to use the 5 year ACS 2012-2017 data.</p>
<h3 id="poverty-rates-using-tidycensus">Poverty Rates using TidyCensus</h3>
<pre><code class="language-r">library(tidyverse)
library(sf)
library(tidycensus)
census_api_key(&quot;YOUR_KEY_HERE&quot;, install=TRUE)
</code></pre>
<p>To get the poverty level, you can use B17001_01 (persons for whom poverty level is tracked) and B17001_002 (persons whose income in the last 12 months was below poverty level). Use the get_acs function for ACS.</p>
<pre><code class="language-r">
povrate23 &lt;- 
    get_acs(geography = &quot;tract&quot;, variables = &quot;B17001_002&quot;,  summary_var = 'B17001_001',state = &quot;NC&quot;, geometry = TRUE, year = 2023, progress_bar = FALSE) %&gt;%
        rename(population = summary_est) %&gt;%
  filter(population&gt;0)%&gt;%
  mutate(pov_rate = estimate/population) %&gt;%
  select(GEOID, NAME, population, pov_rate)

povrate23
# Simple feature collection with 2643 features and 4 fields
# Geometry type: MULTIPOLYGON
# Dimension:     XY
# Bounding box:  xmin: -84.32187 ymin: 33.84232 xmax: -75.46062 ymax: 36.58812
# Geodetic CRS:  NAD83
# First 10 features:
#          GEOID                                                 NAME population
# 1  37037020600     Census Tract 206; Chatham County; North Carolina       4364
# 2  37105030102      Census Tract 301.02; Lee County; North Carolina       6147
# 3  37165010300    Census Tract 103; Scotland County; North Carolina       3737
# 4  37133000800        Census Tract 8; Onslow County; North Carolina        995
# 5  37133002500       Census Tract 25; Onslow County; North Carolina       3367
# 6  37013930200   Census Tract 9302; Beaufort County; North Carolina       5214
# 7  37001020100    Census Tract 201; Alamance County; North Carolina       4374
# 8  37063001706    Census Tract 17.06; Durham County; North Carolina       5222
# 9  37065020400   Census Tract 204; Edgecombe County; North Carolina       4809
# 10 37129011200 Census Tract 112; New Hanover County; North Carolina       1776
#      pov_rate                       geometry
# 1  0.07080660 MULTIPOLYGON (((-79.40216 3...
# 2  0.03090939 MULTIPOLYGON (((-79.23063 3...
# 3  0.42895371 MULTIPOLYGON (((-79.48963 3...
# 4  0.09447236 MULTIPOLYGON (((-77.35379 3...
# 5  0.13632314 MULTIPOLYGON (((-77.30802 3...
# 6  0.21212121 MULTIPOLYGON (((-77.19577 3...
# 7  0.25674440 MULTIPOLYGON (((-79.45802 3...
# 8  0.07027959 MULTIPOLYGON (((-78.98735 3...
# 9  0.31108339 MULTIPOLYGON (((-77.79452 3...
# 10 0.11936937 MULTIPOLYGON (((-77.94605 3...
</code></pre>
<p>The above code downloads and constructs the poverty rate for census tracts. Note the omission of tracts that have zero population. Also note the blithe use of estimates as true values.</p>
<div class="alert alert-warning">
  <div>
    ACS is a survey and therefore the estimates have Margins of Error (MOE). We are ignoring them here, but they pose serious problems, especially at sub county geographies and finer age and sex sub categories. Ignore them at your peril.
  </div>
</div>
<p>To visualise this, we can use the <code>tmap</code> package. Notice above that census returns the geographies in “NAD 83” coordinate system. We should transform this to “WGS 84” to be consistent with other basemaps.</p>
<pre><code class="language-r">library(tmap)

tmap_mode('view')


povrate23 &lt;-
  povrate23 %&gt;%
  mutate(pov_rate = pov_rate*100) %&gt;%
  st_transform(crs=4326)  # EPSG Code for WGS84
  
m1 &lt;- povrate23 %&gt;%
  tm_shape() +
  tm_polygons(fill = &quot;pov_rate&quot;, # Variable to use for filling
              fill.scale = tm_scale_intervals(breaks = seq(0,100, 20), # Breaks for the legend
                                              values = 'brewer.yl_gn', # Color scheme. see cols4all package
                                              label.format = tm_label_format(suffix = &quot;%&quot;)
              ),
              col = 'gray90' , # Border color
              col.alpha = .3, # Border transparency
              lwd  = .1, # Border line width
              fill.legend = tm_legend(title = &quot;Poverty Rate&quot;, 
                                      position = c(&quot;right&quot;, &quot;top&quot;), 
                                      text.size = 0.5)
  ) +
  tm_tiles('CartoDB.PositronOnlyLabels')  # Use for labels, becasue the basemap is useless for context



library(widgetframe)
frameWidget(tmap_leaflet(m1))
</code></pre>
<div id="htmlwidget-1" style="width:100%;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"url":"index_files/figure-html//widgets/widget_unnamed-chunk-3.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<div class="alert alert-alert">
  <div>
    Do not use <code>frameWidget</code>. Widgetframe and frameWidget are needed to embed the interactive maps in blogdown on a webserver. If you are using Rmarkdown, you can simply just print the map.
  </div>
</div>
<p>It should be apparent by now that choices of colors, cuts and linewidths etc. dramatically alter the visual evidence produced by the map. See for example,</p>
<pre><code class="language-r">
m1 &lt;- povrate23 %&gt;%
  tm_shape() +
  tm_polygons(fill = &quot;pov_rate&quot;, # Variable to use for filling
              fill.scale = tm_scale_continuous(values = 'matplotlib.seismic', midpoint = 20),
              col = 'black' , # Border color
              col_alpha = .5, # Border transparency
              lwd  = .2, # Border line width
              fill.legend = tm_legend(title = &quot;Poverty Rate %&quot;, 
                                      position = c(&quot;right&quot;, &quot;top&quot;), 
                                      text.size = 0.5)
  ) +
  tm_tiles('CartoDB.PositronOnlyLabels')  # Use for labels, becasue the basemap is useless for context

frameWidget(tmap_leaflet(m1))
</code></pre>
<div id="htmlwidget-2" style="width:100%;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"url":"index_files/figure-html//widgets/widget_unnamed-chunk-4.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<hr>
<p><strong>Exercise</strong></p>
<ul>
<li>
<p>Experiment with different options in the above maps for breaks, border widths etc and note the differences in visual evidence it produces.</p>
</li>
<li>
<p>Use cols4all package to choose different color schemes. See <a href="https://cran.r-project.org/web/packages/cols4all/vignettes/cols4all.html" target="_blank" rel="noopener">here</a> for more details.</p>
</li>
<li>
<p>Use tmap_mode(‘plot’) to create static maps instead of interactive maps. Change the projections and see how the visual evidence changes.</p>
</li>
<li>
<p>Instead of the point estimates, create a map of the Margins of Errors to understand the geographic distribution of the uncertainty in the poverty rate estimates. See <a href="https://walkerke.github.io/tidycensus/articles/margins-of-error.html" target="_blank" rel="noopener">Kyle Walker’s page on this topic</a></p>
</li>
<li>
<p>Some Census tracts have poverty rate above 90%. Are these real? How much do you trust these numbers?</p>
</li>
</ul>
<hr>
<p>Unfortunately ACS data at the tract level can be downloaded at most for each state. If we want to download it for the entire US, we need to automate the calls for each state and assemble the dataset. Fortunately, this is quite straightforward in R. I am going to demonstrate this for 10 states, for the sake of simplicity.</p>
<pre><code class="language-r">data(&quot;fips_codes&quot;) # This is a dataset inside tidycensus package

unique(fips_codes$state_code)[1:10] %&gt;%  # We extract unique state FIPS codes and subset the first 10 
   map(function(x){get_acs(geography = &quot;tract&quot;, variables = &quot;B17001_002&quot;,  summary_var = 'B17001_001',
            state = x, geometry = TRUE, year = 2023)}) %&gt;% #Note the use of argument x. We are simply applying the custom built function for each of the 10 states
  reduce(rbind) %&gt;% # The list of 10 elements is reduced using 'row binding' to create one single tibble. read up on these map and reduce functions in purrr. They are key to functional programming paradigm
  rename(population = summary_est) %&gt;%
  filter(population&gt;0)%&gt;%
  mutate(pov_rate = estimate/population) %&gt;%
  select(GEOID, NAME, population, pov_rate) %&gt;%
  dim
</code></pre>
<hr>
<p><strong>Exercise</strong></p>
<ul>
<li>
<p>Do the above for all states in the US and map the poverty rate. Troubleshoot when this fails. Hint: There are 57 unique state_codes, only 50 states in the United States.</p>
</li>
<li>
<p>Instead of tm_polygons use tm_bubbles and create a map of poverty across the United States.</p>
</li>
</ul>
<hr>
<h3 id="unemployment-rates-using-tidycensus">Unemployment Rates using TidyCensus</h3>
<p>Unemployment rate is trickier, because it needs to track both the labour force as well as unemployed persons. In general, we consider people of the ages between 16 and 64 to be in the labour force. It turns out that ACS only provides labour force and unemployment for males and females separately and by different age categories. So we need to assemble them and combine them. We return to NC for the sake of simplicity.</p>
<pre><code class="language-r"> # Variable names

#Labour Force
lf_m &lt;- paste(&quot;B23001_&quot;, formatC(seq(4,67,7), width=3, flag=&quot;0&quot;), &quot;E&quot;, sep=&quot;&quot;) # Males. Check to make sure these are indeed the variables representing the labour force for men in different age categories
lf_f &lt;- paste(&quot;B23001_&quot;, formatC(seq(90,153,7), width=3, flag=&quot;0&quot;), &quot;E&quot;, sep=&quot;&quot;) # Females

lf_t &lt;- 
  get_acs(geography='tract', variables = c(lf_m, lf_f), state=&quot;NC&quot;, year=2023)%&gt;% 
  group_by(GEOID) %&gt;%
  summarize(lf_est = sum(estimate, na.rm=T))


#Unemployed
unemp_m &lt;- paste(&quot;B23001_&quot;, formatC(seq(8,71,7), width=3, flag=&quot;0&quot;), &quot;E&quot;, sep=&quot;&quot;)
unemp_f &lt;- paste(&quot;B23001_&quot;, formatC(seq(94,157,7), width=3, flag=&quot;0&quot;), &quot;E&quot;, sep=&quot;&quot;)

unemp_t &lt;- 
  get_acs(geography='tract', variables = c(unemp_m, unemp_f), state=&quot;NC&quot;, year=2023)%&gt;%
  group_by(GEOID) %&gt;%
  summarize(unemp_est = sum(estimate, na.rm=T))


unemprate23 &lt;-
  left_join(lf_t, unemp_t, by=c('GEOID'='GEOID')) %&gt;%  #Look up joining tables. It is incredibly useful to merge data
  filter(lf_est &gt;0) %&gt;%
  mutate(unemp_rate = unemp_est/lf_est * 100)
</code></pre>
<hr>
<p><strong>Exercise</strong></p>
<ul>
<li>
<p>Compute unemployment rate for more meaningful classes (Women, Youth etc.) and visualise it. Are there differences in the spatial distribution?</p>
</li>
<li>
<p>What about the unemployment rate of gender queer groups?</p>
</li>
<li>
<p>Plot the distribution of the unemployment rate. What can you say about the right tail of the distribution?</p>
</li>
</ul>
<hr>
<p>Is the spatial distribution of unemployment rate, same as the spatial distribution of poverty rate? On some occasions it may be useful to put those maps side by side (small multiples in Tufte parlance) and compare them. Fortunately, tmap does it automatically, when you supply multiple variables.</p>
<p>However, notice that there are 2,645 observations in Unemployment Rate data and 2,643 in poverty rate data. Let’s see what the issue might be</p>
<pre><code class="language-r"> unemprate23 %&gt;%
     left_join(povrate23 , by=c(&quot;GEOID&quot;=&quot;GEOID&quot;)) %&gt;%
      filter(is.na(pov_rate)|is.na(unemp_rate))
# # A tibble: 4 × 8
#   GEOID       lf_est unemp_est unemp_rate NAME  population pov_rate
#   &lt;chr&gt;        &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;
# 1 37051003404   3560         0       0    &lt;NA&gt;          NA       NA
# 2 37051980100    149         0       0    &lt;NA&gt;          NA       NA
# 3 37051980200    737         0       0    &lt;NA&gt;          NA       NA
# 4 37063001503    431        32       7.42 &lt;NA&gt;          NA       NA
# # ℹ 1 more variable: geometry &lt;MULTIPOLYGON [°]&gt;
</code></pre>
<hr>
<p><strong>Exercise</strong></p>
<ul>
<li>There are empty polygons. So it might be useful to think about why these areas exist without poverty data attached to them. Why do they have unemployment or labour force data?</li>
</ul>
<hr>
<p>For the moment, I am going to ignore these polygons by throwing them out using <code>inner_join</code>. This only keep the records where both GEOIDs match.</p>
<pre><code class="language-r">
tmap_mode('plot')

unemprate23 %&gt;%
  inner_join(povrate23 , by=c(&quot;GEOID&quot;=&quot;GEOID&quot;)) %&gt;%
  st_as_sf() %&gt;%
  st_transform(crs=4326) %&gt;%
  tm_shape() +
    tm_polygons(c(&quot;pov_rate&quot;, &quot;unemp_rate&quot;),
                fill.legend = tm_legend(&quot;&quot;), # Remove legend titles
                fill.scale = tm_scale_continuous(values = rev('viridis')),
                col = NULL #remove borders
                ) +
  tm_tiles('CartoDB.PositronOnlyLabels') +
  tm_layout(frame = FALSE,
            panel.labels = c(&quot;Poverty Rate&quot;, &quot;Unemployment Rate&quot;))
# 
|---------|---------|---------|---------|
=========================================
                                          
</code></pre>
<img src="https://nkaza.github.io/post/using-tidycensus-package/index_files/figure-html/unnamed-chunk-8-1.png" width="672" />
<p>It should be relatively obvious that this visualisation does not tell us much about the correlation between poverty and unemployment rates. It is better to visualise them as a scatter plot</p>
<pre><code class="language-r">unemprate23 %&gt;%
       inner_join(povrate23 , by=c(&quot;GEOID&quot;=&quot;GEOID&quot;)) %&gt;%
      ggplot() + 
      geom_point(aes(x=unemp_rate, y=pov_rate), alpha=.3) + 
      geom_smooth(aes(x=unemp_rate, y=pov_rate), method='lm') +  # Linear trend
      ylab('Poverty Rate') + xlab('Unemployment Rate')
</code></pre>
<img src="https://nkaza.github.io/post/using-tidycensus-package/index_files/figure-html/unnamed-chunk-9-1.png" width="672" />
<p>As you can see, there is strong linear relationship between poverty rate and unemployment rate. Notice the range of values on the axes. While unemployment rate ranges from 0 to 40%, poverty rate ranges from 0 to 100%, suggesting that poverty may be more acute than unemployment. Furthermore, if you just focus on the average relationship, you will miss the substantial variance around the relationship. It may be useful to identify, some of the outliers and focus on them in the map.</p>
<p>One way to identify them is perhaps to look at the predictions made by the regression line and if the actual value is higher or lower than the prediction interval, we can call them outliers.</p>
<pre><code class="language-r">dat23 &lt;-
  unemprate23 %&gt;%
  inner_join(povrate23 , by=c(&quot;GEOID&quot;=&quot;GEOID&quot;)) 

mod1 &lt;- lm(pov_rate ~ unemp_rate , data=dat23)
dat23 &lt;- cbind(dat23, predict(mod1, interval = 'prediction'))

library(ggthemes)

dat23 %&gt;%
  mutate(outlier = ifelse(pov_rate &gt;= upr | pov_rate &lt;= lwr, &quot;Yes&quot;, &quot;No&quot;) %&gt;% as_factor) %&gt;%
  ggplot() +
  geom_point(aes(x=unemp_rate, y=pov_rate, color = outlier), alpha=.5) +
  scale_color_manual(values = c(&quot;No&quot;='gray90', &quot;Yes&quot;='red')) +
  ylab('Poverty Rate') + xlab('Unemployment Rate') +
  theme_tufte()
</code></pre>
<img src="https://nkaza.github.io/post/using-tidycensus-package/index_files/figure-html/unnamed-chunk-10-1.png" width="672" />
<pre><code class="language-r"> 

tmap_mode('view')

m1 &lt;- 
dat23 %&gt;%
  mutate(outlier = ifelse(pov_rate &gt;= upr | pov_rate &lt;= lwr, &quot;Yes&quot;, &quot;No&quot;) %&gt;% as_factor) %&gt;% 
  st_as_sf() %&gt;%
  st_transform(4326)%&gt;%
    tm_shape() +
    tm_polygons(&quot;outlier&quot;,
                fill.scale = tm_scale_categorical(values = c(&quot;No&quot;='gray90', &quot;Yes&quot;='red')),
                fill.legend = tm_legend(title = &quot;Outlier&quot;, position = c(&quot;right&quot;, &quot;top&quot;), text.size = 0.5),
                fill_alpha = .5,
                col = 'brown',
                col_alpha = .1,
                lwd =.1
                
                ) +
  tm_tiles(&quot;CartoDB.PositronOnlyLabels&quot;) 


frameWidget(tmap_leaflet(m1))
</code></pre>
<div id="htmlwidget-3" style="width:100%;height:480px;" class="widgetframe html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"url":"index_files/figure-html//widgets/widget_unnamed-chunk-10.html","options":{"xdomain":"*","allowfullscreen":false,"lazyload":false}},"evals":[],"jsHooks":[]}</script>
<p>Note that this representation provides some insight, but is in fact not particularly helpful. Many small census tracts within the metropolitan areas are in the outliers but are not visible because of small area that is obfuscated by the borders. The large tracts draw attention to the eye even when they are probably not most important from a policy perspective.</p>
<pre><code class="language-r">
dat23 &lt;- 
  dat23 %&gt;%  st_as_sf()

outliers&lt;- dat23 %&gt;%
    filter(pov_rate &gt;= upr | pov_rate &lt;= lwr)
  
tmap_mode('plot')

tm_shape( dat23) +
    tm_borders(col_alpha=.1) + 
    tm_shape(outliers)+
    tm_bubbles(col = NULL,
               size=.7, 
               fill = 'red',
               fill_alpha=.3) +
  tm_tiles('CartoDB.PositronOnlyLabels')+
  tm_layout(frame = FALSE)+
  tm_title(&quot;Outliers in Poverty Rate vs Unemployment Rate&quot;) +
  tm_compass() +
  tm_scale_bar()+
  tm_credits(&quot;Source: ACS 2019-2023&quot;, position = c(&quot;right&quot;, &quot;bottom&quot;))
</code></pre>
<img src="https://nkaza.github.io/post/using-tidycensus-package/index_files/figure-html/unnamed-chunk-11-1.png" width="672" />
<hr>
<p><strong>Exercise</strong></p>
<ul>
<li>
<p>Perhaps the focus should be on left and right outliers separately. Visualise them and see if they tell a different story.</p>
</li>
<li>
<p>The above map may not be even the right story to tell. It could very well be that the focus should be on outliers that have high poverty and high unemployment rates, perhaps also places that have at least some threshold of population levels. Make some judgement about these and create a different visualisation.</p>
</li>
</ul>
<hr>
<h2 id="conclusions">Conclusions</h2>
<p>This tutorial is about how to use APIs to access US Census data. Becoming quite familiar with the quirks of the Census data is quite useful for planners. But the ease with which these data can be queried does not obviate the need for careful consideration of what kinds of analysis and visualisations are needed and what kinds of compelling stories that need to be told.</p>

      </div>
      <div class="col-12 col-lg-3 docs-toc">
        <ul class="nav toc-top">
          <li>
            <a href="#" id="back_to_top" class="docs-toc-title">
              Contents
            </a>
          </li>
        </ul>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#getting-started">Getting Started</a></li>
    <li><a href="#querying-census-servers">Querying Census Servers</a></li>
    <li><a href="#tidycensus">TidyCensus</a>
      <ul>
        <li><a href="#poverty-rates-using-tidycensus">Poverty Rates using TidyCensus</a></li>
        <li><a href="#unemployment-rates-using-tidycensus">Unemployment Rates using TidyCensus</a></li>
      </ul>
    </li>
    <li><a href="#conclusions">Conclusions</a></li>
  </ul>
</nav>
      </div>
    </div>
    






<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/r/">R</a>
  
  <a class="badge badge-light" href="/tag/teaching/">teaching</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=https://nkaza.github.io/post/using-tidycensus-package/&amp;text=Using%20TidyCensus%20package%20to%20explore%20Census%20Data" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=https://nkaza.github.io/post/using-tidycensus-package/&amp;t=Using%20TidyCensus%20package%20to%20explore%20Census%20Data" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Using%20TidyCensus%20package%20to%20explore%20Census%20Data&amp;body=https://nkaza.github.io/post/using-tidycensus-package/" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=https://nkaza.github.io/post/using-tidycensus-package/&amp;title=Using%20TidyCensus%20package%20to%20explore%20Census%20Data" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Using%20TidyCensus%20package%20to%20explore%20Census%20Data%20https://nkaza.github.io/post/using-tidycensus-package/" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=https://nkaza.github.io/post/using-tidycensus-package/&amp;title=Using%20TidyCensus%20package%20to%20explore%20Census%20Data" target="_blank" rel="noopener" class="share-btn-weibo" aria-label="weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      
      <a href="https://nkaza.github.io/"><img class="avatar mr-3 avatar-circle" src="/author/nikhil-kaza/avatar_hub3f48de923d36a3a7f2a35d484d2e93d_2804906_270x270_fill_q75_lanczos_center.jpg" alt="Nikhil Kaza"></a>
    

    <div class="media-body">
      <h5 class="card-title"><a href="https://nkaza.github.io/">Nikhil Kaza</a></h5>
      <h6 class="card-subtitle">Professor</h6>
      <p class="card-text">My research interests include urbanization patterns, local energy policy and equity</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=F0FfN00AAAAJ" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/nkaza" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://orcid.org/0000-0002-9536-7643" target="_blank" rel="noopener">
        <i class="ai ai-orcid"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/nikhilkaza/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>
















  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/post/cleaning-using-spatial-networks/">Cleaning Spatial Networks</a></li>
      
      <li><a href="/post/isochrones-from-routing-engines-osrm/">Isochrones from Routing Engines (OSRM)</a></li>
      
      <li><a href="/post/exploratory-data-analysis-and-visualisation/">Exploratory Data Analysis and Visualisation</a></li>
      
      <li><a href="/post/intersection-density-from-osm-using-qgis-r/">Intersection Density From OSM using QGIS &amp; R</a></li>
      
      <li><a href="/post/analysing-free-form-text/">Analysing Free Form Text</a></li>
      
    </ul>
  </div>
  




  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  



  

  
  <p class="powered-by">
    
      <a href="/privacy/">Privacy Policy</a>
    
    
  </p>
  

  
  <p class="powered-by">
    © 2018-2025 Nikhil Kaza
  </p>
  

  
  





  
  
  
  

  
  
  
    
  

  

  
  <p class="powered-by copyright-license-text">
    Except as otherwise noted, this work is licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0" rel="noopener noreferrer" target="_blank">CC BY SA 4.0</a>, and code samples are licensed under the MIT License.
  </p>
  

  <p class="powered-by footer-license-icons">
    <a href="https://creativecommons.org/licenses/by-sa/4.0" rel="noopener noreferrer" target="_blank" aria-label="Creative Commons">
      <i class="fab fa-creative-commons fa-2x" aria-hidden="true"></i>
      <i class="fab fa-creative-commons-by fa-2x" aria-hidden="true"></i>
      
      
        <i class="fab fa-creative-commons-sa fa-2x" aria-hidden="true"></i>
      
    </a>
  </p>




  <p class="powered-by">
    
    
    
  </p>
</footer>

    </div>
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    <script src="/js/vendor-bundle.min.b73dfaac3b6499dc997741748a7c3fe2.js"></script>

    
    
    
      
      
        <script src="https://cdn.jsdelivr.net/gh/desandro/imagesloaded@v4.1.4/imagesloaded.pkgd.min.js" integrity="sha512-S5PZ9GxJZO16tT9r3WJp/Safn31eu8uWrzglMahDT4dsmgqWonRY9grk3j+3tfuPr9WJNsfooOR7Gi7HL5W2jw==" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/gh/metafizzy/isotope@v3.0.6/dist/isotope.pkgd.min.js" integrity="sha512-Zq2BOxyhvnRFXu0+WE6ojpZLOU2jdnqbrM1hmVdGzyeCa1DgM3X5Q4A/Is9xA1IkbUeDd7755dNNI/PzSf2Pew==" crossorigin="anonymous"></script>
      

      
      

      

      
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/highlight.min.js" integrity="sha512-Ypjm0o7jOxAd4hpdoppSEN0TQOC19UtPAqD+4s5AlXmUvbmmS/YMxYqAqarQYyxTnB6/rqip9qcxlNB/3U9Wdg==" crossorigin="anonymous"></script>
        
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/r.min.js" crossorigin="anonymous"></script>
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/python.min.js" crossorigin="anonymous"></script>
        
        <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.2.1/build/languages/latex.min.js" crossorigin="anonymous"></script>
        
      

    

    
    
    
      <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.js" integrity="" crossorigin="anonymous"></script>
    

    
    

    
    
    
      
      <script id="search-hit-fuse-template" type="text/x-template">
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script>
      
        <script src="https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js" integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
    

    
    
      
      
      
      
      
      
      
    

    

    
    
    
    <script id="page-data" type="application/json">{"use_headroom":true}</script>

    
    
      <script src="/js/wowchemy-headroom.1cb9e2fc8399acee94eab837265b73bf.js" type="module"></script>
    
    
    
    
    
    
    
      
      
    
    
    <script src="/en/js/wowchemy.min.247fd8f54253895301106e3006f53f38.js"></script>

    
  <script async defer src="https://buttons.github.io/buttons.js"></script>




</body>
</html>
